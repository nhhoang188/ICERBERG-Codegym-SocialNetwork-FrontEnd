<app-header></app-header>
<div class="toolbar" role="banner">
</div>
<div style="background-image: url('http://taihinhanhdep.xyz/wp-content/uploads/2015/11/anh-dep-cho-dien-thoai-1.jpg');
background-repeat: no-repeat;background-size: cover;height: 760px;margin-top: 15px">

<div class="container">
  <div class="row">

    <div class="col-md-6">
      <div class="content-box friends-zone" >
        <div class="row " style="position: relative">

          <div class="row relative" *ngFor="let friend of friends">
<!--            {{user.id}}-->
            <div class="friend-list-view">
              <div class="profile-thumb">
                <a (click)="getUserChatTo(friend)">
                  <figure class="profile-thumb-middle">
                    <img [src]="friend.imgcover" alt="profile picture">
                  </figure>
                </a>
              </div>
              <div class="posted-author">
                <h6 class="author"><a (click)="getUserChatTo(friend)">{{friend.fullname}}</a></h6>
                <p class="add-frnd">My Friend</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="col">
        <div class="collapse multi-collapse" id="chatForm">
          <div class="content">
            <div class="chat">
              <div class="chat-header clearfix">

                <div class="chat-about">
                  <div class="chat-with" id="selectedUserId" *ngIf="friend">
                    <img alt="avatar" height="50px" [src]="friend.imgcover" width="55px"/>
                    <a style="margin-left: 10px" routerLink="/profile/{{friend.id}}/about">{{friend.fullname}}</a>

                    <button type="button" style="color: red" id="closeChat" class="btn btn-danger" (click)="closeChat()">X</button>
                  </div>
                </div>
                <i class="fa fa-star"></i>
              </div> <!-- end chat-header -->

              <div class="chat-history" id="chat-history">
                <div *ngIf="chatMessages">
                  <div *ngFor="let message of chatMessages">
                    <div *ngIf="message.user_sender_id == user.id">
                      <div class="clearfix">
                        <div class="chat-message-me-frame clearfix p-2">
                          <div class="d-flex flex-row">
                            <a routerLink="#">
                              <img class="rounded-circle" src="{{user.avatar}}" width="40">
                            </a>
                            <div class="d-flex flex-column justify-content-start ml-2" *ngIf="message">
                              <a routerLink="#">
                                <span class="d-block font-weight-bold name">{{message.sender.fullname}}</span>
                              </a>
                              <span class="date text-black-50 createPost">{{message.content}}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="message.user_receiver_id == user.id">
                      <div class="clearfix">
                        <div class="chat-message-friend-frame  p-2">
                          <div class="d-flex flex-row">
                            <a routerLink="#">
                              <img class="rounded-circle" src="{{message.sender.avatar}}" width="40">
                            </a>
                            <div class="d-flex flex-column justify-content-start ml-2" *ngIf="message">
                              <a routerLink="#">
                                <span class="d-block font-weight-bold name">{{message.sender.fullname}}</span>
                              </a>
                              <span class="date text-black-50 createPost">{{message.content}}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div> <!-- end chat-history -->

              <div class="chat-message clearfix">
            <textarea id="message-to-send" name="message-to-send" placeholder="Type your message" rows="3"
                      [(ngModel)]="input"></textarea>

                <i class="fa fa-file-o"></i> &nbsp;&nbsp;&nbsp;
                <i class="fa fa-file-image-o"></i>

                <button id="sendBtn" class="btn btn-success" (click)="sendMessage()">Send</button>

              </div> <!-- end chat-message -->

            </div> <!-- end chat -->
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
</div>


